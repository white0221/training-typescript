# 8 非同期処理
## 8.2 コールバック処理による非同期処理の扱い
非同期処理を扱う方法で原始的なコールバック関数。
のちにPromiseが出現するまでは一般的だった。

### 8.2.1 コールバック関数とは
コールバック関数とは、非同期処理が終わった時に呼び出される関数のこと。

非同期処理実行中は、その処理の終了を待たずにプログラムの実行は次へと進むため、非同期処理の実行の終了を検知する手段が必要になる。
それが「関数を呼び出してもらう事」となり、この関数がコールバック関数。

コールバック関数を用いる場合、非同期処理の実行開始時に「終了した呼び出される関数」を登録しておくことで、完了したらその関数が呼ばれることになる。

```
console.log("1, start");
readFile("TextFile.txt", (data) => {
  console.log("3, read finish");
});
console.log("2, reading...");
```

readFile関数の第2引数に関数を渡しているこれが、コールバック関数。
実行完了時に呼ばれるもののため、コールバック関数の引数には data（実行結果）が伴っている。


### 8.2.2 タイマーの例

非同期処理のほかの例としてタイマーを挙げる
TypeScriptではsetTimeoutという関数があり、この関数を通してタイマーを使用できる

```
setTimeout(() => {
  console.log("start timer");
}, 3000);
console.log("timer is running");
```

setTimeoutの第1引数にはコールバック関数を、第2引数には数値（タイマー起動までのミリ秒）を指定する
実行すると、即座に「timer is running」と表示され、その3秒後に「start timer」と表示されることになる



### 8.2.3 fsモジュールによるファイル操作の例



### 8.2.4 同期処理と非同期処理の順序







EOF
